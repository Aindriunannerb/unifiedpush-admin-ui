<form name="form" class="modal-content ups-modal-content ups-add-variable">
  <div class="modal-header">
    <button type="button" class="close" aria-hidden="true" ng-click="dismiss()">
      <span class="pficon pficon-close"></span>
    </button>
    <h4 class="modal-title" id="myModalLabel">{{ isNew ? 'Add' : 'Edit' }} Variant</h4>
  </div>
  <div class="modal-body form-horizontal">

    <div class="form-group" ng-if="isNew">
      <label class="col-sm-3 control-label" for="textInput-modal-markup">Name</label>
      <div class="col-sm-9">
        <input type="text" id="textInput-modal-markup" class="form-control" placeholder="eg. Demo"
          ng-model="variant.name" required="required" pf-focused="true">
      </div>
    </div>

    <div class="form-group" ng-if="isNew && allowCreate('android')">
      <label class="col-sm-3 control-label" for="optionAndroid">Choose a platform</label>
      <div class="col-sm-9">
        <div class="radio">
          <label>
            <input type="radio" name="variantType" id="optionAndroid" value="android" ng-model="variant.type"
              ng-required="true">
            <span class="ups-has-icon ups-variant-android">
              <strong>Android</strong><br>
              using Firebase Cloud Messaging
            </span>
          </label>
        </div>
      </div>
    </div>
    <div class="form-group" ng-if="isNew && allowCreate('web_push')">
      <label class="col-sm-3 control-label" for="optionWebPush">Choose a platform</label>
      <div class="col-sm-9">
        <div class="radio">
          <label>
            <input type="radio" name="variantType" id="optionWebPush" value="web_push" ng-model="variant.type"
              ng-required="true">
            <span class="ups-has-icon ups-variant-web_push">
              <strong>WebPush</strong><br>
              using web browsers
            </span>
          </label>
        </div>
      </div>
    </div>

    <div class="form-group" ng-if="isNew && allowCreate('ios_token')">
      <label class="col-sm-3 control-label sr-only" for="optionIos">iOS (APNS Token)</label>
      <div class="col-sm-9">
        <div class="radio">
          <label>
            <input type="radio" name="variantType" id="optionIos" value="ios_token" ng-model="variant.type"
              ng-required="true">
            <span class="ups-has-icon ups-variant-ios">
              <strong>iOS (APNS Token)</strong><br>
              using Apple Push Network with Tokens
            </span>
          </label>
        </div>
      </div>
    </div>
    <div class="form-group" ng-if="isNew && allowCreate('ios')">
      <label class="col-sm-3 control-label sr-only" for="optionIos">iOS</label>
      <div class="col-sm-9">
        <div class="radio">
          <label>
            <input type="radio" name="variantType" id="optionIos" value="ios" ng-model="variant.type"
              ng-required="true">
            <span class="ups-has-icon ups-variant-ios">
              <strong>iOS (Certificate)</strong><br>
              using Apple Push Network with certificates
            </span>
          </label>
        </div>
      </div>
    </div>

    <div ng-show="variant.type">
      <div ng-show="variant.type == 'android'">
        <div class="form-group">
          <label class="col-sm-3 control-label" for="fcmApiKey">Push Network</label>
          <div class="col-sm-7">Server Key<br>
            <input type="text" placeholder="e.g. AIza5a448c2f31700a466fbc9d33d33942b043a27596" id="fcmApiKey"
              class="form-control" ng-model="variant.googleKey" ng-required="variant.type == 'android'">
          </div>
        </div>
        <div class="form-group">
          <label class="col-sm-3 control-label" for="fcmProjectNumber"></label>
          <div class="col-sm-7">
            Sender ID<br>
            <input type="text" placeholder="e.g. 42" id="fcmProjectNumber" class="form-control"
              ng-model="variant.projectNumber">
          </div>
        </div>
      </div>
      <div ng-show="variant.type">
        <div ng-show="variant.type == 'web_push'">
          <div class="form-group">
            <label class="col-sm-3 control-label" for="vapidPublicKey">Vapid Public Key</label>
            <div class="col-sm-7">Vapid Public Key<br>
              <input type="text" placeholder="e.g. AIza5a448c2f31700a466fbc9d33d33942b043a27596" id="vapidPublicKey"
                class="form-control" ng-model="variant.publicKey" ng-required="variant.type == 'web_push'">
            </div>
          </div>
          <div class="form-group">
            <label class="col-sm-3 control-label" for="vapidPrivateKey">Vapid Private Key</label>
            <div class="col-sm-7">Vapid Private Key<br>
              <input type="text" placeholder="e.g. AIza5a448c2f31700a466fbc9d33d33942b043a27596" id="vapidPrivateKey"
                class="form-control" ng-model="variant.privateKey" ng-required="variant.type == 'web_push'">
            </div>
          </div>
          <div class="form-group">
            <label class="col-sm-3 control-label" for="alias">Alias</label>
            <div class="col-sm-7">Alias<br>
              <input type="text" placeholder="e.g. mailto:bob@example.com or https://aerogear.org" id="alias"
                class="form-control" ng-model="variant.alias" ng-required="variant.type == 'web_push'">
            </div>
          </div>
        </div>
        <div ng-show="variant.type == 'ios'">
          <div class="form-group">
            <label class="col-sm-3 control-label">Push Network</label>
            <div class="col-sm-7">
              <p><em>Apple Push Notification Service</em> certificate:</p>
              <strong><input type="file" ups-files="variant.certificates" /></strong>
              <div class="form-horizontal">
                <div class="form-group">
                  <div class="row">
                    <br><label class="col-sm-3 control-label">Type</label>
                    <div class="col-sm-9">
                      <div class="row">
                        <div class="radio">
                          <label>
                            <input type="radio" name="iosType" id="iosType1" ng-model="variant.production"
                              ng-value="true" ng-required="variant.type == 'ios'">
                            Production
                          </label>
                        </div>
                      </div>
                      <div class="row">
                        <div class="radio">
                          <label>
                            <input type="radio" name="iosType" id="iosType2" ng-model="variant.production"
                              ng-value="false" ng-required="variant.type == 'ios'">
                            Development
                          </label>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="form-group">
                  <label class="col-sm-3 control-label" for="iosPassphrase">Passphrase</label>
                  <div class="col-sm-9">
                    <input type="password" id="iosPassphrase" class="form-control" ng-model="variant.passphrase"
                      ng-disabled="!isNew && variant.certificates.length == 0">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div ng-show="variant.type == 'ios_token'">
          <div class="form-group">
            <label class="col-sm-3 control-label">Push Network</label>
            <div class="col-sm-7">
              <div class="form-group">
                <label class="col-sm-3 control-label" for="privateKey">Private Key</label>
                <div class="col-sm-7">Private Key<br>
                  <textarea  placeholder="" id="privateKey" style="white-space: nowrap;  overflow: auto;"  wrap="soft"
                    class="form-control" ng-model="variant.privateKey" ng-required="variant.type == 'ios_token'"></textarea>
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label" for="keyId">Key Id</label>
                <div class="col-sm-7">Key Id<br>
                  <input type="text" placeholder="" id="keyId" class="form-control" ng-model="variant.keyId"
                    ng-required="variant.type == 'ios_token'">
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label" for="teamId">Team Id</label>
                <div class="col-sm-7">Team Id<br>
                  <input type="text" placeholder="" id="teamId" class="form-control" ng-model="variant.teamId"
                    ng-required="variant.type == 'ios_token'">
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label" for="bundleId">Bundle Id</label>
                <div class="col-sm-7">Bundle Id<br>
                  <input type="text" placeholder="" id="bundleId" class="form-control" ng-model="variant.bundleId"
                    ng-required="variant.type == 'ios_token'">
                </div>
              </div>
              <div class="form-horizontal">
                <div class="form-group">
                  <div class="row">
                    <br><label class="col-sm-3 control-label">Type</label>
                    <div class="col-sm-9">
                      <div class="row">
                        <div class="radio">
                          <label>
                            <input type="radio" name="iosType" id="iosType1" ng-model="variant.production"
                              ng-value="true" ng-required="variant.type == 'ios_token'">
                            Production
                          </label>
                        </div>
                      </div>
                      <div class="row">
                        <div class="radio">
                          <label>
                            <input type="radio" name="iosType" id="iosType2" ng-model="variant.production"
                              ng-value="false" ng-required="variant.type == 'ios_token'">
                            Development
                          </label>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button ng-click="dismiss()" type="button" class="btn btn-default">Cancel</button>
        <button ng-click="confirm()" class="btn btn-primary"
          ng-disabled="form.$invalid || !validateFileInputs()">{{ isNew ? 'Create' : 'Save' }}</button>
      </div>
</form>